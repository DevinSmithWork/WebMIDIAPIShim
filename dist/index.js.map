{"version":3,"sources":["../src/index.js"],"names":["midiAccess","init","navigator","requestMIDIAccess","undefined","nodejs","close"],"mappings":";;AAAA;;AACA;;AAEA,IAAIA,mBAAJ;;AAEA,IAAMC,OAAO,SAAPA,IAAO,GAAM;AACf,QAAI,CAACC,UAAUC,iBAAf,EAAkC;AAC9B;AACA;AACAD,kBAAUC,iBAAV,GAA8B,YAAM;AAChC;AACA,gBAAIH,eAAeI,SAAnB,EAA8B;AAC1BJ,6BAAa,oCAAb;AACH;AACD,mBAAOA,UAAP;AACH,SAND;AAOA,YAAI,uBAAYK,MAAZ,KAAuB,IAA3B,EAAiC;AAC7BH,sBAAUI,KAAV,GAAkB,YAAM;AACpB;AACA;AACA;AACH,aAJD;AAKH;AACJ;AACJ,CAnBD;;AAqBAL","file":"index.js","sourcesContent":["import { createMIDIAccess, closeAllMIDIInputs } from './midi/midi_access';\nimport { polyfill, getDevice } from './util/util';\n\nlet midiAccess;\n\nconst init = () => {\n    if (!navigator.requestMIDIAccess) {\n        // Add some functionality to older browsers\n        polyfill();\n        navigator.requestMIDIAccess = () => {\n            // Singleton-ish, no need to create multiple instances of MIDIAccess\n            if (midiAccess === undefined) {\n                midiAccess = createMIDIAccess();\n            }\n            return midiAccess;\n        };\n        if (getDevice().nodejs === true) {\n            navigator.close = () => {\n                // For Nodejs applications we need to add a method that closes all MIDI input ports,\n                // otherwise Nodejs will wait for MIDI input forever.\n                closeAllMIDIInputs();\n            };\n        }\n    }\n};\n\ninit();\n"]}